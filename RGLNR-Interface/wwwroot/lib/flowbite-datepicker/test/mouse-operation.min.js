/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/test/mouse-operation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
describe("mouse operation",(function(){let e,t;before((function(){e=sinon.useFakeTimers({now:new Date(2020,1,14)}),t=document.createElement("input"),testContainer.appendChild(t)})),after((function(){e.restore(),testContainer.removeChild(t)})),it("picker hides if mouse is pressed outside the picker or the input",(function(){const e=document.createElement("p");testContainer.appendChild(e);const{dp:c,picker:o}=createDP(t);t.focus(),simulant.fire(o.querySelector(".dow"),"mousedown"),expect(isVisible(o),"to be true"),simulant.fire(t,"mousedown"),expect(isVisible(o),"to be true"),simulant.fire(e,"mousedown"),expect(isVisible(o),"to be false");const l=sinon.spy(c,"hide");t.blur(),simulant.fire(e,"mousedown"),expect(l.called,"to be false"),l.restore(),c.show(),simulant.fire(e,"mousedown"),expect(isVisible(o),"to be false"),c.destroy(),testContainer.removeChild(e)})),it("selection is updated with input's value if mouse is pressed outside the input",(function(){const e=document.createElement("p");testContainer.appendChild(e);const{dp:c,picker:o}=createDP(t);t.focus(),t.value="foo",simulant.fire(o.querySelector(".dow"),"mousedown"),expect(t.value,"to be","foo"),simulant.fire(t,"mousedown"),expect(t.value,"to be","foo"),simulant.fire(e,"mousedown"),expect(t.value,"to be","02/14/2020"),expect(c.getDate().getTime(),"to be",dateValue(2020,1,14)),t.focus(),t.value="04/22/2020",simulant.fire(e,"mousedown"),expect(t.value,"to be","04/22/2020"),expect(c.getDate().getTime(),"to be",dateValue(2020,3,22)),t.focus(),t.value="",simulant.fire(e,"mousedown"),expect(t.value,"to be",""),expect(c.getDate(),"to be undefined"),c.destroy(),testContainer.removeChild(e)})),it("picker shows up if input field is clicked wheh picker is hidden",(function(){const{dp:e,picker:c}=createDP(t);simulant.fire(t,"mousedown"),t.click(),expect(isVisible(c),"to be true"),e.hide(),simulant.fire(t,"mousedown"),t.click(),expect(isVisible(c),"to be true"),e.destroy()})),describe("view-switch",(function(){it("changes the view to the next greater one",(function(){t.value="04/22/2020";const{dp:e,picker:c}=createDP(t),o=getViewSwitch(c);e.show(),o.click(),expect(o.textContent,"to be","2020"),expect(t.value,"to be","04/22/2020");let l=getCells(c);expect(l.map((e=>e.textContent)),"to equal",Datepicker.locales.en.monthsShort),expect(l[3].classList.contains("selected"),"to be true"),expect(l[3].classList.contains("focused"),"to be true"),o.click(),expect(o.textContent,"to be","2020-2029"),expect(t.value,"to be","04/22/2020"),l=getCells(c),expect(l,"to have length",12),expect(l[0].textContent,"to be","2019"),expect(l[0].classList.contains("prev"),"to be true"),expect(l[0].classList.contains("next"),"to be false"),expect(l[1].textContent,"to be","2020"),expect(l[1].classList.contains("prev"),"to be false"),expect(l[1].classList.contains("next"),"to be false"),expect(l[10].textContent,"to be","2029"),expect(l[10].classList.contains("prev"),"to be false"),expect(l[10].classList.contains("next"),"to be false"),expect(l[11].textContent,"to be","2030"),expect(l[11].classList.contains("prev"),"to be false"),expect(l[11].classList.contains("next"),"to be true"),expect(filterCells(l,".selected"),"to equal",[l[1]]),expect(filterCells(l,".focused"),"to equal",[l[1]]),o.click(),expect(o.textContent,"to be","2000-2090"),expect(t.value,"to be","04/22/2020"),l=getCells(c),expect(l,"to have length",12),expect(l[0].textContent,"to be","1990"),expect(l[0].classList.contains("prev"),"to be true"),expect(l[0].classList.contains("next"),"to be false"),expect(l[1].textContent,"to be","2000"),expect(l[1].classList.contains("prev"),"to be false"),expect(l[1].classList.contains("next"),"to be false"),expect(l[10].textContent,"to be","2090"),expect(l[10].classList.contains("prev"),"to be false"),expect(l[10].classList.contains("next"),"to be false"),expect(l[11].textContent,"to be","2100"),expect(l[11].classList.contains("prev"),"to be false"),expect(l[11].classList.contains("next"),"to be true"),expect(filterCells(l,".selected"),"to equal",[l[3]]),expect(filterCells(l,".focused"),"to equal",[l[3]]),expect(l[3].textContent,"to be","2020"),o.click(),expect(o.textContent,"to be","2000-2090"),e.destroy(),t.value=""}))})),describe("prev-btn",(function(){it("changes the month/year/decade/century of the view to the previouse one",(function(){t.value="04/22/2020";const{dp:e,picker:c}=createDP(t),[o,l]=getParts(c,[".view-switch",".prev-btn"]);e.show(),l.click(),expect(o.textContent,"to be","March 2020"),expect(t.value,"to be","04/22/2020");let n=getCells(c);expect(n,"to have length",42),expect(n[0].textContent,"to be","1"),expect(n[0].classList.contains("prev"),"to be false"),expect(n[0].classList.contains("next"),"to be false"),expect(n[30].textContent,"to be","31"),expect(n[30].classList.contains("prev"),"to be false"),expect(n[30].classList.contains("next"),"to be false"),expect(n[31].textContent,"to be","1"),expect(n[31].classList.contains("prev"),"to be false"),expect(n[31].classList.contains("next"),"to be true"),expect(n[41].textContent,"to be","11"),expect(n[41].classList.contains("prev"),"to be false"),expect(n[41].classList.contains("next"),"to be true"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[21]]),expect(n[21].textContent,"to be","22"),o.click(),expect(o.textContent,"to be","2020"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[3]]),expect(filterCells(n,".focused"),"to equal",[n[2]]),l.click(),expect(o.textContent,"to be","2019"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n.map((e=>e.textContent)),"to equal",Datepicker.locales.en.monthsShort),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[2]]),o.click(),expect(o.textContent,"to be","2010-2019"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[11]]),expect(n[11].textContent,"to be","2020"),expect(filterCells(n,".focused"),"to equal",[n[10]]),expect(n[10].textContent,"to be","2019"),l.click(),expect(o.textContent,"to be","2000-2009"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n,"to have length",12),expect(n[0].textContent,"to be","1999"),expect(n[1].textContent,"to be","2000"),expect(n[10].textContent,"to be","2009"),expect(n[11].textContent,"to be","2010"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[10]]),o.click(),expect(o.textContent,"to be","2000-2090"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[3]]),expect(n[3].textContent,"to be","2020"),expect(filterCells(n,".focused"),"to equal",[n[1]]),expect(n[1].textContent,"to be","2000"),l.click(),expect(o.textContent,"to be","1900-1990"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n,"to have length",12),expect(n[0].textContent,"to be","1890"),expect(n[1].textContent,"to be","1900"),expect(n[10].textContent,"to be","1990"),expect(n[11].textContent,"to be","2000"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[1]]),e.destroy(),t.value=""})),it("controls the view date in days view to be in the prev month when moving from a longer month to shorter",(function(){t.value="03/31/2019";const{dp:e,picker:c}=createDP(t),[o,l]=getParts(c,[".view-switch",".prev-btn"]);e.show(),l.click(),expect(o.textContent,"to be","February 2019");let n=getCells(c);expect(filterCells(n,".focused"),"to equal",[n[32]]),expect(n[32].textContent,"to be","28"),t.value="03/31/2020",e.update(),l.click(),expect(o.textContent,"to be","February 2020"),n=getCells(c),expect(filterCells(n,".focused"),"to equal",[n[34]]),expect(n[34].textContent,"to be","29"),t.value="10/31/2020",e.update(),l.click(),expect(o.textContent,"to be","September 2020"),n=getCells(c),expect(filterCells(n,".focused"),"to equal",[n[31]]),expect(n[31].textContent,"to be","30"),e.destroy(),t.value=""})),it("becomes disabled if the view includes the decade/year/month/day of 0000-01-01",(function(){t.value="01/04/0000";const{dp:e,picker:c}=createDP(t),[o,l]=getParts(c,[".view-switch",".prev-btn"]);e.show(),expect(l.disabled,"to be true"),l.click(),expect(o.textContent,"to be","January 0"),o.click(),expect(l.disabled,"to be true"),l.click(),expect(o.textContent,"to be","0"),o.click(),expect(l.disabled,"to be true"),l.click(),expect(o.textContent,"to be","0-9"),o.click(),expect(l.disabled,"to be true"),l.click(),expect(o.textContent,"to be","0-90"),e.destroy(),t.value=""}))})),describe("next-btn",(function(){it("changes the month/year/decade/century of the view to the next one",(function(){t.value="04/22/2020";const{dp:e,picker:c}=createDP(t),[o,l]=getParts(c,[".view-switch",".next-btn"]);e.show(),l.click(),expect(o.textContent,"to be","May 2020"),expect(t.value,"to be","04/22/2020");let n=getCells(c);expect(n,"to have length",42),expect(n[0].textContent,"to be","26"),expect(n[0].classList.contains("prev"),"to be true"),expect(n[0].classList.contains("next"),"to be false"),expect(n[4].textContent,"to be","30"),expect(n[4].classList.contains("prev"),"to be true"),expect(n[4].classList.contains("next"),"to be false"),expect(n[5].textContent,"to be","1"),expect(n[5].classList.contains("prev"),"to be false"),expect(n[5].classList.contains("next"),"to be false"),expect(n[35].textContent,"to be","31"),expect(n[35].classList.contains("prev"),"to be false"),expect(n[35].classList.contains("next"),"to be false"),expect(n[36].textContent,"to be","1"),expect(n[36].classList.contains("prev"),"to be false"),expect(n[36].classList.contains("next"),"to be true"),expect(n[41].textContent,"to be","6"),expect(n[41].classList.contains("prev"),"to be false"),expect(n[41].classList.contains("next"),"to be true"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[26]]),expect(n[26].textContent,"to be","22"),o.click(),expect(o.textContent,"to be","2020"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[3]]),expect(filterCells(n,".focused"),"to equal",[n[4]]),l.click(),expect(o.textContent,"to be","2021"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n.map((e=>e.textContent)),"to equal",Datepicker.locales.en.monthsShort),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[4]]),o.click(),expect(o.textContent,"to be","2020-2029"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[1]]),expect(filterCells(n,".focused"),"to equal",[n[2]]),expect(n[1].textContent,"to be","2020"),expect(n[2].textContent,"to be","2021"),l.click(),expect(o.textContent,"to be","2030-2039"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n,"to have length",12),expect(n[0].textContent,"to be","2029"),expect(n[1].textContent,"to be","2030"),expect(n[10].textContent,"to be","2039"),expect(n[11].textContent,"to be","2040"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[2]]),expect(n[2].textContent,"to be","2031"),o.click(),expect(o.textContent,"to be","2000-2090"),n=getCells(c),expect(filterCells(n,".selected"),"to equal",[n[3]]),expect(filterCells(n,".focused"),"to equal",[n[4]]),expect(n[3].textContent,"to be","2020"),expect(n[4].textContent,"to be","2030"),l.click(),expect(o.textContent,"to be","2100-2190"),expect(t.value,"to be","04/22/2020"),n=getCells(c),expect(n,"to have length",12),expect(n[0].textContent,"to be","2090"),expect(n[1].textContent,"to be","2100"),expect(n[10].textContent,"to be","2190"),expect(n[11].textContent,"to be","2200"),expect(filterCells(n,".selected"),"to equal",[]),expect(filterCells(n,".focused"),"to equal",[n[4]]),expect(n[4].textContent,"to be","2130"),e.destroy(),t.value=""})),it("controls the view date in days view to be in the next month when moving from a longer month to shorter",(function(){t.value="01/31/2019";const{dp:e,picker:c}=createDP(t),[o,l]=getParts(c,[".view-switch",".next-btn"]);e.show(),l.click(),expect(o.textContent,"to be","February 2019");let n=getCells(c);expect(filterCells(n,".focused"),"to equal",[n[32]]),expect(n[32].textContent,"to be","28"),t.value="01/31/2020",e.update(),l.click(),expect(o.textContent,"to be","February 2020"),n=getCells(c),expect(filterCells(n,".focused"),"to equal",[n[34]]),expect(n[34].textContent,"to be","29"),t.value="08/31/2020",e.update(),l.click(),expect(o.textContent,"to be","September 2020"),n=getCells(c),expect(filterCells(n,".focused"),"to equal",[n[31]]),expect(n[31].textContent,"to be","30"),e.destroy(),t.value=""}))})),describe("datepicker-cell",(function(){let e,c;beforeEach((function(){({dp:e,picker:c}=createDP(t)),e.show()})),afterEach((function(){e.destroy()})),it("changes the selection to the clicked date if the current view = days",(function(){const o=getCells(c)[19];o.click(),expect(e.dates,"to equal",[new Date(2020,1,14).getTime()]),expect(t.value,"to be","02/14/2020"),expect(getViewSwitch(c).textContent,"to be","February 2020"),expect(o.classList.contains("selected"),"to be true"),expect(o.classList.contains("focused"),"to be true"),e.setDate({clear:!0})})),it("also changes the month of the view if a date of previous or next month is clicked",(function(){const o=getViewSwitch(c);getCells(c)[1].click(),expect(e.dates,"to equal",[new Date(2020,0,27).getTime()]),expect(t.value,"to be","01/27/2020"),expect(o.textContent,"to be","January 2020");let l=getCells(c);expect(filterCells(l,".selected"),"to equal",[l[29]]),expect(filterCells(l,".focused"),"to equal",[l[29]]),expect(l[29].textContent,"to be","27"),expect(l[40].textContent,"to be","7"),l[40].click(),expect(e.dates,"to equal",[dateValue(2020,1,7)]),expect(t.value,"to be","02/07/2020"),expect(o.textContent,"to be","February 2020"),l=getCells(c),expect(filterCells(l,".selected"),"to equal",[l[12]]),expect(filterCells(l,".focused"),"to equal",[l[12]]),expect(l[12].textContent,"to be","7"),e.setDate({clear:!0})})),it("changes the view year or month to the clicked one and moves to the next minor view if the current view != days",(function(){const o=getViewSwitch(c);o.click(),o.click(),o.click(),o.click();let l=getCells(c);l[2].click(),expect(e.dates,"to equal",[]),expect(t.value,"to be",""),expect(getViewSwitch(c).textContent,"to be","2010-2019"),l=getCells(c),expect(filterCells(l,".focused"),"to equal",[l[1]]),expect(l[1].textContent,"to be","2010"),l[8].click(),expect(e.dates,"to equal",[]),expect(t.value,"to be",""),expect(getViewSwitch(c).textContent,"to be","2017"),l=getCells(c),expect(filterCells(l,".focused"),"to equal",[l[1]]),expect(l[1].textContent,"to be","Feb"),l[9].click(),expect(e.dates,"to equal",[]),expect(t.value,"to be",""),expect(getViewSwitch(c).textContent,"to be","October 2017"),l=getCells(c),expect(filterCells(l,".focused"),"to equal",[l[1]]),expect(l[10].textContent,"to be","11")}))}))}));
//# sourceMappingURL=/sm/89b6e49c0b19c04432626d7764b77f2dfa00474e420957762bd4125b09c0936e.map