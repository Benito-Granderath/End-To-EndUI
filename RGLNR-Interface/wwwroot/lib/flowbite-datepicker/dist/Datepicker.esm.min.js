/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/dist/Datepicker.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _callSuper(e,t,r){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,r||[],_getPrototypeOf(e).constructor):t.apply(e,r))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_toPropertyKey(a.key),a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=_superPropBase(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},_get.apply(null,arguments)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,i,n,o,s=[],d=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=n.call(r)).done)&&(s.push(a.value),s.length!==t);d=!0);}catch(e){l=!0,i=e}finally{try{if(!d&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _superPropBase(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function hasProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lastItemOf(e){return e[e.length-1]}function pushUnique(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.forEach((function(t){e.includes(t)||e.push(t)})),e}function stringToArray(e,t){return e?e.split(t):[]}function isInRange(e,t,r){return(void 0===t||e>=t)&&(void 0===r||e<=r)}function limitToRange(e,t,r){return e<t?t:e>r?r:e}function createTagRepeat(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=Object.keys(r).reduce((function(e,t){var i=r[t];return"function"==typeof i&&(i=i(a)),"".concat(e," ").concat(t,'="').concat(i,'"')}),e);i+="<".concat(n,"></").concat(e,">");var o=a+1;return o<t?createTagRepeat(e,t,r,o,i):i}function optimizeTemplateHTML(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function stripTime(e){return new Date(e).setHours(0,0,0,0)}function today(){return(new Date).setHours(0,0,0,0)}function dateValue(){switch(arguments.length){case 0:return today();case 1:return stripTime(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function addDays(e,t){var r=new Date(e);return r.setDate(r.getDate()+t)}function addWeeks(e,t){return addDays(e,7*t)}function addMonths(e,t){var r=new Date(e),a=r.getMonth()+t,i=a%12;i<0&&(i+=12);var n=r.setMonth(a);return r.getMonth()!==i?r.setDate(0):n}function addYears(e,t){var r=new Date(e),a=r.getMonth(),i=r.setFullYear(r.getFullYear()+t);return 1===a&&2===r.getMonth()?r.setDate(0):i}function dayDiff(e,t){return(e-t+7)%7}function dayOfTheWeekOf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new Date(e).getDay();return addDays(e,dayDiff(t,r)-dayDiff(a,r))}function getWeek(e){var t=dayOfTheWeekOf(e,4,1),r=dayOfTheWeekOf(new Date(t).setMonth(0,4),4,1);return Math.round((t-r)/6048e5)+1}function startOfYearPeriod(e,t){var r=new Date(e).getFullYear();return Math.floor(r/t)*t}var reFormatTokens=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,reNonDateParts=/[\s!-/:-@[-`{-~年月日]+/,knownFormats={},parseFns={y:function(e,t){return new Date(e).setFullYear(parseInt(t,10))},m:function(e,t,r){var a=new Date(e),i=parseInt(t,10)-1;if(isNaN(i)){if(!t)return NaN;var n=t.toLowerCase(),o=function(e){return e.toLowerCase().startsWith(n)};if((i=r.monthsShort.findIndex(o))<0&&(i=r.months.findIndex(o)),i<0)return NaN}return a.setMonth(i),a.getMonth()!==normalizeMonth(i)?a.setDate(0):a.getTime()},d:function(e,t){return new Date(e).setDate(parseInt(t,10))}},formatFns={d:function(e){return e.getDate()},dd:function(e){return padZero(e.getDate(),2)},D:function(e,t){return t.daysShort[e.getDay()]},DD:function(e,t){return t.days[e.getDay()]},m:function(e){return e.getMonth()+1},mm:function(e){return padZero(e.getMonth()+1,2)},M:function(e,t){return t.monthsShort[e.getMonth()]},MM:function(e,t){return t.months[e.getMonth()]},y:function(e){return e.getFullYear()},yy:function(e){return padZero(e.getFullYear(),2).slice(-2)},yyyy:function(e){return padZero(e.getFullYear(),4)}};function normalizeMonth(e){return e>-1?e%12:normalizeMonth(e+12)}function padZero(e,t){return e.toString().padStart(t,"0")}function parseFormatString(e){if("string"!=typeof e)throw new Error("Invalid date format.");if(e in knownFormats)return knownFormats[e];var t=e.split(reFormatTokens),r=e.match(new RegExp(reFormatTokens,"g"));if(0===t.length||!r)throw new Error("Invalid date format.");var a=r.map((function(e){return formatFns[e]})),i=Object.keys(parseFns).reduce((function(e,t){return r.find((function(e){return"D"!==e[0]&&e[0].toLowerCase()===t}))&&e.push(t),e}),[]);return knownFormats[e]={parser:function(e,t){var a=e.split(reNonDateParts).reduce((function(e,t,a){if(t.length>0&&r[a]){var i=r[a][0];"M"===i?e.m=t:"D"!==i&&(e[i]=t)}return e}),{});return i.reduce((function(e,r){var i=parseFns[r](e,a[r],t);return isNaN(i)?e:i}),today())},formatter:function(e,r){return a.reduce((function(a,i,n){return a+"".concat(t[n]).concat(i(e,r))}),"")+lastItemOf(t)}}}function parseDate(e,t,r){if(e instanceof Date||"number"==typeof e){var a=stripTime(e);return isNaN(a)?void 0:a}if(e){if("today"===e)return today();if(t&&t.toValue){var i=t.toValue(e,t,r);return isNaN(i)?void 0:stripTime(i)}return parseFormatString(t).parser(e,r)}}function formatDate(e,t,r){if(isNaN(e)||!e&&0!==e)return"";var a="number"==typeof e?new Date(e):e;return t.toDisplay?t.toDisplay(a,t,r):parseFormatString(t).formatter(a,r)}var listenerRegistry=new WeakMap,_EventTarget$prototyp=EventTarget.prototype,addEventListener=_EventTarget$prototyp.addEventListener,removeEventListener=_EventTarget$prototyp.removeEventListener;function registerListeners(e,t){var r=listenerRegistry.get(e);r||(r=[],listenerRegistry.set(e,r)),t.forEach((function(e){addEventListener.call.apply(addEventListener,_toConsumableArray(e)),r.push(e)}))}function unregisterListeners(e){var t=listenerRegistry.get(e);t&&(t.forEach((function(e){removeEventListener.call.apply(removeEventListener,_toConsumableArray(e))})),listenerRegistry.delete(e))}if(!Event.prototype.composedPath){var getComposedPath=function e(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.push(t),t.parentNode?r=t.parentNode:t.host?r=t.host:t.defaultView&&(r=t.defaultView),r?e(r,a):a};Event.prototype.composedPath=function(){return getComposedPath(this.target)}}function findFromPath(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e[a];return t(i)?i:i!==r&&i.parentElement?findFromPath(e,t,r,a+1):void 0}function findElementInEventPath(e,t){var r="function"==typeof t?t:function(e){return e.matches(t)};return findFromPath(e.composedPath(),r,e.currentTarget)}var locales={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},defaultOptions={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},range=document.createRange();function parseHTML(e){return range.createContextualFragment(e)}function hideElement(e){"none"!==e.style.display&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function showElement(e){"none"===e.style.display&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function emptyChildNodes(e){e.firstChild&&(e.removeChild(e.firstChild),emptyChildNodes(e))}function replaceChildNodes(e,t){emptyChildNodes(e),t instanceof DocumentFragment?e.appendChild(t):"string"==typeof t?e.appendChild(parseHTML(t)):"function"==typeof t.forEach&&t.forEach((function(t){e.appendChild(t)}))}var defaultLang=defaultOptions.language,defaultFormat=defaultOptions.format,defaultWeekStart=defaultOptions.weekStart;function sanitizeDOW(e,t){return e.length<6&&t>=0&&t<7?pushUnique(e,t):e}function calcEndOfWeek(e){return(e+6)%7}function validateDate(e,t,r,a){var i=parseDate(e,t,r);return void 0!==i?i:a}function validateViewId(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=parseInt(e,10);return a>=0&&a<=r?a:t}function processOptions(e,t){var r,a=Object.assign({},e),i={},n=t.constructor.locales,o=t.config||{},s=o.format,d=o.language,l=o.locale,c=o.maxDate,u=o.maxView,h=o.minDate,f=o.pickLevel,g=o.startView,p=o.weekStart;if(a.language&&(a.language!==d&&(n[a.language]?r=a.language:void 0===n[r=a.language.split("-")[0]]&&(r=!1)),delete a.language,r)){d=i.language=r;var y=l||n[defaultLang];l=Object.assign({format:defaultFormat,weekStart:defaultWeekStart},n[defaultLang]),d!==defaultLang&&Object.assign(l,n[d]),i.locale=l,s===y.format&&(s=i.format=l.format),p===y.weekStart&&(p=i.weekStart=l.weekStart,i.weekEnd=calcEndOfWeek(l.weekStart))}if(a.format){var v="function"==typeof a.format.toDisplay,m="function"==typeof a.format.toValue,k=reFormatTokens.test(a.format);(v&&m||k)&&(s=i.format=a.format),delete a.format}var b=h,w=c;if(void 0!==a.minDate&&(b=null===a.minDate?dateValue(0,0,1):validateDate(a.minDate,s,l,b),delete a.minDate),void 0!==a.maxDate&&(w=null===a.maxDate?void 0:validateDate(a.maxDate,s,l,w),delete a.maxDate),w<b?(h=i.minDate=w,c=i.maxDate=b):(h!==b&&(h=i.minDate=b),c!==w&&(c=i.maxDate=w)),a.datesDisabled&&(i.datesDisabled=a.datesDisabled.reduce((function(e,t){var r=parseDate(t,s,l);return void 0!==r?pushUnique(e,r):e}),[]),delete a.datesDisabled),void 0!==a.defaultViewDate){var D=parseDate(a.defaultViewDate,s,l);void 0!==D&&(i.defaultViewDate=D),delete a.defaultViewDate}if(void 0!==a.weekStart){var x=Number(a.weekStart)%7;isNaN(x)||(p=i.weekStart=x,i.weekEnd=calcEndOfWeek(x)),delete a.weekStart}if(a.daysOfWeekDisabled&&(i.daysOfWeekDisabled=a.daysOfWeekDisabled.reduce(sanitizeDOW,[]),delete a.daysOfWeekDisabled),a.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=a.daysOfWeekHighlighted.reduce(sanitizeDOW,[]),delete a.daysOfWeekHighlighted),void 0!==a.maxNumberOfDates){var O=parseInt(a.maxNumberOfDates,10);O>=0&&(i.maxNumberOfDates=O,i.multidate=1!==O),delete a.maxNumberOfDates}a.dateDelimiter&&(i.dateDelimiter=String(a.dateDelimiter),delete a.dateDelimiter);var C=f;void 0!==a.pickLevel&&(C=validateViewId(a.pickLevel,2),delete a.pickLevel),C!==f&&(f=i.pickLevel=C);var _=u;void 0!==a.maxView&&(_=validateViewId(a.maxView,u),delete a.maxView),(_=f>_?f:_)!==u&&(u=i.maxView=_);var M=g;if(void 0!==a.startView&&(M=validateViewId(a.startView,M),delete a.startView),M<f?M=f:M>u&&(M=u),M!==g&&(i.startView=M),a.prevArrow){var T=parseHTML(a.prevArrow);T.childNodes.length>0&&(i.prevArrow=T.childNodes),delete a.prevArrow}if(a.nextArrow){var S=parseHTML(a.nextArrow);S.childNodes.length>0&&(i.nextArrow=S.childNodes),delete a.nextArrow}if(void 0!==a.disableTouchKeyboard&&(i.disableTouchKeyboard="ontouchstart"in document&&!!a.disableTouchKeyboard,delete a.disableTouchKeyboard),a.orientation){var E=a.orientation.toLowerCase().split(/\s+/g);i.orientation={x:E.find((function(e){return"left"===e||"right"===e}))||"auto",y:E.find((function(e){return"top"===e||"bottom"===e}))||"auto"},delete a.orientation}if(void 0!==a.todayBtnMode){switch(a.todayBtnMode){case 0:case 1:i.todayBtnMode=a.todayBtnMode}delete a.todayBtnMode}return Object.keys(a).forEach((function(e){void 0!==a[e]&&hasProperty(defaultOptions,e)&&(i[e]=a[e])})),i}var pickerTemplate=optimizeTemplateHTML('<div class="datepicker hidden">\n  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">\n    <div class="datepicker-header">\n      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>\n      <div class="datepicker-controls flex justify-between mb-2">\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>\n        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>\n        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main p-1"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">\n        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>\n      </div>\n    </div>\n  </div>\n</div>'),daysTemplate=optimizeTemplateHTML('<div class="days">\n  <div class="days-of-week grid grid-cols-7 mb-1">'.concat(createTagRepeat("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),'</div>\n  <div class="datepicker-grid w-64 grid grid-cols-7">').concat(createTagRepeat("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),"</div>\n</div>")),calendarWeeksTemplate=optimizeTemplateHTML('<div class="calendar-weeks">\n  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>\n  <div class="weeks">'.concat(createTagRepeat("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),"</div>\n</div>")),View=function(){return _createClass((function e(t,r){_classCallCheck(this,e),Object.assign(this,r,{picker:t,element:parseHTML('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}),[{key:"init",value:function(e){void 0!==e.pickLevel&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(e,t,r){var a=this.beforeShow(new Date(r));switch(_typeof(a)){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){if(!1===a.enabled&&(e.classList.add("disabled"),pushUnique(this.disabled,t)),a.classes){var i,n=a.classes.split(/\s+/);(i=e.classList).add.apply(i,_toConsumableArray(n)),n.includes("disabled")&&pushUnique(this.disabled,t)}a.content&&replaceChildNodes(e,a.content)}}}])}(),DaysView=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,{id:0,name:"days",cellClass:"day"}])}return _inherits(t,View),_createClass(t,[{key:"init",value:function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var r=parseHTML(daysTemplate).firstChild;this.dow=r.firstChild,this.grid=r.lastChild,this.element.appendChild(r)}_get(_getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){var t,r=this;if(hasProperty(e,"minDate")&&(this.minDate=e.minDate),hasProperty(e,"maxDate")&&(this.maxDate=e.maxDate),e.datesDisabled&&(this.datesDisabled=e.datesDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),void 0!==e.todayHighlight&&(this.todayHighlight=e.todayHighlight),void 0!==e.weekStart&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){var a=this.locale=e.locale;this.dayNames=a.daysMin,this.switchLabelFormat=a.titleFormat,t=!0}if(void 0!==e.beforeShowDay&&(this.beforeShow="function"==typeof e.beforeShowDay?e.beforeShowDay:void 0),void 0!==e.calendarWeeks)if(e.calendarWeeks&&!this.calendarWeeks){var i=parseHTML(calendarWeeksTemplate).firstChild;this.calendarWeeks={element:i,dow:i.firstChild,weeks:i.lastChild},this.element.insertBefore(i,this.element.firstChild)}else this.calendarWeeks&&!e.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);void 0!==e.showDaysOfWeek&&(e.showDaysOfWeek?(showElement(this.dow),this.calendarWeeks&&showElement(this.calendarWeeks.dow)):(hideElement(this.dow),this.calendarWeeks&&hideElement(this.calendarWeeks.dow))),t&&Array.from(this.dow.children).forEach((function(e,t){var a=(r.weekStart+t)%7;e.textContent=r.dayNames[a],e.className=r.daysOfWeekDisabled.includes(a)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}))}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=e.getFullYear(),r=e.getMonth(),a=dateValue(t,r,1),i=dayOfTheWeekOf(a,this.weekStart,this.weekStart);this.first=a,this.last=dateValue(t,r+1,0),this.start=i,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,r=e.rangepicker;this.selected=t,r&&(this.range=r.dates)}},{key:"render",value:function(){var e=this;this.today=this.todayHighlight?today():void 0,this.disabled=_toConsumableArray(this.datesDisabled);var t=formatDate(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(t),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var r=dayOfTheWeekOf(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach((function(e,t){e.textContent=getWeek(addWeeks(r,t))}))}Array.from(this.grid.children).forEach((function(t,r){var a=t.classList,i=addDays(e.start,r),n=new Date(i),o=n.getDay();if(t.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),t.dataset.date=i,t.textContent=n.getDate(),i<e.first?a.add("prev","text-gray-500","dark:text-white"):i>e.last&&a.add("next","text-gray-500","dark:text-white"),e.today===i&&a.add("today","bg-gray-100","dark:bg-gray-600"),(i<e.minDate||i>e.maxDate||e.disabled.includes(i))&&(a.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),a.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),e.daysOfWeekDisabled.includes(o)&&(a.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),a.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),pushUnique(e.disabled,i)),e.daysOfWeekHighlighted.includes(o)&&a.add("highlighted"),e.range){var s=_slicedToArray(e.range,2),d=s[0],l=s[1];i>d&&i<l&&(a.add("range","bg-gray-200","dark:bg-gray-600"),a.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),i===d&&(a.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),a.remove("rounded-lg","rounded-r-lg")),i===l&&(a.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),a.remove("rounded-lg","rounded-l-lg"))}e.selected.includes(i)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),i===e.focused&&a.add("focused"),e.beforeShow&&e.performBeforeHook(t,i,i)}))}},{key:"refresh",value:function(){var e=this,t=_slicedToArray(this.range||[],2),r=t[0],a=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),e.classList.add("text-gray-900","rounded-lg","dark:text-white")})),Array.from(this.grid.children).forEach((function(t){var i=Number(t.dataset.date),n=t.classList;n.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),i>r&&i<a&&(n.add("range","bg-gray-200","dark:bg-gray-600"),n.remove("rounded-lg")),i===r&&(n.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),n.remove("rounded-lg")),i===a&&(n.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),n.remove("rounded-lg")),e.selected.includes(i)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),i===e.focused&&n.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}])}();function computeMonthRange(e,t){if(e&&e[0]&&e[1]){var r=_slicedToArray(e,2),a=_slicedToArray(r[0],2),i=a[0],n=a[1],o=_slicedToArray(r[1],2),s=o[0],d=o[1];if(!(i>t||s<t))return[i===t?n:-1,s===t?d:12]}}var MonthsView=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,{id:1,name:"months",cellClass:"month"}])}return _inherits(t,View),_createClass(t,[{key:"init",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(parseHTML(createTagRepeat("span",12,{"data-month":function(e){return e}})))),_get(_getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),hasProperty(e,"minDate"))if(void 0===e.minDate)this.minYear=this.minMonth=this.minDate=void 0;else{var t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if(hasProperty(e,"maxDate"))if(void 0===e.maxDate)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var r=new Date(e.maxDate);this.maxYear=r.getFullYear(),this.maxMonth=r.getMonth(),this.maxDate=dateValue(this.maxYear,this.maxMonth+1,0)}void 0!==e.beforeShowMonth&&(this.beforeShow="function"==typeof e.beforeShowMonth?e.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}},{key:"updateSelection",value:function(){var e=this.picker.datepicker,t=e.dates,r=e.rangepicker;this.selected=t.reduce((function(e,t){var r=new Date(t),a=r.getFullYear(),i=r.getMonth();return void 0===e[a]?e[a]=[i]:pushUnique(e[a],i),e}),{}),r&&r.dates&&(this.range=r.dates.map((function(e){var t=new Date(e);return isNaN(t)?void 0:[t.getFullYear(),t.getMonth()]})))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var t=this.selected[this.year]||[],r=this.year<this.minYear||this.year>this.maxYear,a=this.year===this.minYear,i=this.year===this.maxYear,n=computeMonthRange(this.range,this.year);Array.from(this.grid.children).forEach((function(o,s){var d=o.classList,l=dateValue(e.year,s,1);if(o.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),e.isMinView&&(o.dataset.date=l),o.textContent=e.monthNames[s],(r||a&&s<e.minMonth||i&&s>e.maxMonth)&&d.add("disabled"),n){var c=_slicedToArray(n,2),u=c[0],h=c[1];s>u&&s<h&&d.add("range"),s===u&&d.add("range-start"),s===h&&d.add("range-end")}t.includes(s)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),s===e.focused&&d.add("focused"),e.beforeShow&&e.performBeforeHook(o,s,l)}))}},{key:"refresh",value:function(){var e=this,t=this.selected[this.year]||[],r=_slicedToArray(computeMonthRange(this.range,this.year)||[],2),a=r[0],i=r[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),e.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")})),Array.from(this.grid.children).forEach((function(r,n){var o=r.classList;n>a&&n<i&&o.add("range"),n===a&&o.add("range-start"),n===i&&o.add("range-end"),t.includes(n)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),n===e.focused&&o.add("focused")}))}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[this.focused].classList.add("focused")}}])}();function toTitleCase(e){return _toConsumableArray(e).reduce((function(e,t,r){return e+(r?t:t.toUpperCase())}),"")}var YearsView=function(e){function t(e,r){return _classCallCheck(this,t),_callSuper(this,t,[e,r])}return _inherits(t,View),_createClass(t,[{key:"init",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.navStep=10*this.step,this.beforeShowOption="beforeShow".concat(toTitleCase(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(parseHTML(createTagRepeat("span",12)))),_get(_getPrototypeOf(t.prototype),"init",this).call(this,e)}},{key:"setOptions",value:function(e){if(hasProperty(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=startOfYearPeriod(e.minDate,this.step),this.minDate=dateValue(this.minYear,0,1))),hasProperty(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=startOfYearPeriod(e.maxDate,this.step),this.maxDate=dateValue(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){var t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}},{key:"updateFocus",value:function(){var e=new Date(this.picker.viewDate),t=startOfYearPeriod(e,this.navStep),r=t+9*this.step;this.first=t,this.last=r,this.start=t-this.step,this.focused=startOfYearPeriod(e,this.step)}},{key:"updateSelection",value:function(){var e=this,t=this.picker.datepicker,r=t.dates,a=t.rangepicker;this.selected=r.reduce((function(t,r){return pushUnique(t,startOfYearPeriod(r,e.step))}),[]),a&&a.dates&&(this.range=a.dates.map((function(t){if(void 0!==t)return startOfYearPeriod(t,e.step)})))}},{key:"render",value:function(){var e=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach((function(t,r){var a=t.classList,i=e.start+r*e.step,n=dateValue(i,0,1);if(t.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(e.cellClass),e.isMinView&&(t.dataset.date=n),t.textContent=t.dataset.year=i,0===r?a.add("prev"):11===r&&a.add("next"),(i<e.minYear||i>e.maxYear)&&a.add("disabled"),e.range){var o=_slicedToArray(e.range,2),s=o[0],d=o[1];i>s&&i<d&&a.add("range"),i===s&&a.add("range-start"),i===d&&a.add("range-end")}e.selected.includes(i)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),i===e.focused&&a.add("focused"),e.beforeShow&&e.performBeforeHook(t,i,n)}))}},{key:"refresh",value:function(){var e=this,t=_slicedToArray(this.range||[],2),r=t[0],a=t[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((function(e){e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((function(t){var i=Number(t.textContent),n=t.classList;i>r&&i<a&&n.add("range"),i===r&&n.add("range-start"),i===a&&n.add("range-end"),e.selected.includes(i)&&(n.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),n.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),i===e.focused&&n.add("focused")}))}},{key:"refreshFocus",value:function(){var e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((function(e){e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}])}();function triggerDatepickerEvent(e,t){var r={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:r}))}function goToPrevOrNext(e,t){var r,a=e.config,i=a.minDate,n=a.maxDate,o=e.picker,s=o.currentView,d=o.viewDate;switch(s.id){case 0:r=addMonths(d,t);break;case 1:r=addYears(d,t);break;default:r=addYears(d,t*s.navStep)}r=limitToRange(r,i,n),e.picker.changeFocus(r).render()}function switchView(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function unfocus(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function goToSelectedMonthOrYear(e,t){var r=e.picker,a=new Date(r.viewDate),i=r.currentView.id,n=1===i?addMonths(a,t-a.getMonth()):addYears(a,t-a.getFullYear());r.changeFocus(n).changeView(i-1).render()}function onClickTodayBtn(e){var t=e.picker,r=today();if(1===e.config.todayBtnMode){if(e.config.autohide)return void e.setDate(r);e.setDate(r,{render:!1}),t.update()}t.viewDate!==r&&t.changeFocus(r),t.changeView(0).render()}function onClickClearBtn(e){e.setDate({clear:!0})}function onClickViewSwitch(e){switchView(e)}function onClickPrevBtn(e){goToPrevOrNext(e,-1)}function onClickNextBtn(e){goToPrevOrNext(e,1)}function onClickView(e,t){var r=findElementInEventPath(t,".datepicker-cell");if(r&&!r.classList.contains("disabled")){var a=e.picker.currentView,i=a.id;a.isMinView?e.setDate(Number(r.dataset.date)):goToSelectedMonthOrYear(e,Number(1===i?r.dataset.month:r.dataset.year))}}function onClickPicker(e){e.inline||e.config.disableTouchKeyboard||e.inputField.focus()}function processPickerOptions(e,t){if(void 0!==t.title&&(t.title?(e.controls.title.textContent=t.title,showElement(e.controls.title)):(e.controls.title.textContent="",hideElement(e.controls.title))),t.prevArrow){var r=e.controls.prevBtn;emptyChildNodes(r),t.prevArrow.forEach((function(e){r.appendChild(e.cloneNode(!0))}))}if(t.nextArrow){var a=e.controls.nextBtn;emptyChildNodes(a),t.nextArrow.forEach((function(e){a.appendChild(e.cloneNode(!0))}))}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),void 0!==t.todayBtn&&(t.todayBtn?showElement(e.controls.todayBtn):hideElement(e.controls.todayBtn)),hasProperty(t,"minDate")||hasProperty(t,"maxDate")){var i=e.datepicker.config,n=i.minDate,o=i.maxDate;e.controls.todayBtn.disabled=!isInRange(today(),n,o)}void 0!==t.clearBtn&&(t.clearBtn?showElement(e.controls.clearBtn):hideElement(e.controls.clearBtn))}function computeResetViewDate(e){var t=e.dates,r=e.config;return limitToRange(t.length>0?lastItemOf(t):r.defaultViewDate,r.minDate,r.maxDate)}function setViewDate(e,t){var r=new Date(e.viewDate),a=new Date(t),i=e.currentView,n=i.id,o=i.year,s=i.first,d=i.last,l=a.getFullYear();switch(e.viewDate=t,l!==r.getFullYear()&&triggerDatepickerEvent(e.datepicker,"changeYear"),a.getMonth()!==r.getMonth()&&triggerDatepickerEvent(e.datepicker,"changeMonth"),n){case 0:return t<s||t>d;case 1:return l!==o;default:return l<s||l>d}}function getTextDirection(e){return window.getComputedStyle(e).direction}var Picker=function(){return _createClass((function e(t){_classCallCheck(this,e),this.datepicker=t;var r=pickerTemplate.replace(/%buttonClass%/g,t.config.buttonClass),a=this.element=parseHTML(r).firstChild,i=_slicedToArray(a.firstChild.children,3),n=i[0],o=i[1],s=i[2],d=n.firstElementChild,l=_slicedToArray(n.lastElementChild.children,3),c=l[0],u=l[1],h=l[2],f=_slicedToArray(s.firstChild.children,2),g={title:d,prevBtn:c,viewSwitch:u,nextBtn:h,todayBtn:f[0],clearBtn:f[1]};this.main=o,this.controls=g;var p=t.inline?"inline":"dropdown";a.classList.add("datepicker-".concat(p)),"dropdown"===p&&a.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),processPickerOptions(this,t.config),this.viewDate=computeResetViewDate(t),registerListeners(t,[[a,"click",onClickPicker.bind(null,t),{capture:!0}],[o,"click",onClickView.bind(null,t)],[g.viewSwitch,"click",onClickViewSwitch.bind(null,t)],[g.prevBtn,"click",onClickPrevBtn.bind(null,t)],[g.nextBtn,"click",onClickNextBtn.bind(null,t)],[g.todayBtn,"click",onClickTodayBtn.bind(null,t)],[g.clearBtn,"click",onClickClearBtn.bind(null,t)]]),this.views=[new DaysView(this),new MonthsView(this),new YearsView(this,{id:2,name:"years",cellClass:"year",step:1}),new YearsView(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.config.container.appendChild(this.element)}),[{key:"setOptions",value:function(e){processPickerOptions(this,e),this.views.forEach((function(t){t.init(e,!1)})),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var e=this.datepicker;if(!e.inline){var t=getTextDirection(e.inputField);t!==getTextDirection(e.config.container)?this.element.dir=t:this.element.dir&&this.element.removeAttribute("dir"),this.place(),e.config.disableTouchKeyboard&&e.inputField.blur()}triggerDatepickerEvent(e,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,triggerDatepickerEvent(this.datepicker,"hide"))}},{key:"place",value:function(){var e,t,r,a=this.element,i=a.classList,n=a.style,o=this.datepicker,s=o.config,d=o.inputField,l=s.container,c=this.element.getBoundingClientRect(),u=c.width,h=c.height,f=l.getBoundingClientRect(),g=f.left,p=f.top,y=f.width,v=d.getBoundingClientRect(),m=v.left,k=v.top,b=v.width,w=v.height,D=s.orientation,x=D.x,O=D.y;l===document.body?(e=window.scrollY,t=m+window.scrollX,r=k+e):(t=m-g,r=k-p+(e=l.scrollTop)),"auto"===x&&(t<0?(x="left",t=10):x=t+u>y||"rtl"===getTextDirection(d)?"right":"left"),"right"===x&&(t-=u-b),"auto"===O&&(O=r-h<e?"bottom":"top"),"top"===O?r-=h:r+=w,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(O),"datepicker-orient-".concat(x)),n.top=r?"".concat(r,"px"):r,n.left=t?"".concat(t,"px"):t}},{key:"setViewSwitchLabel",value:function(e){this.controls.viewSwitch.textContent=e}},{key:"setPrevBtnDisabled",value:function(e){this.controls.prevBtn.disabled=e}},{key:"setNextBtnDisabled",value:function(e){this.controls.nextBtn.disabled=e}},{key:"changeView",value:function(e){var t=this.currentView,r=this.views[e];return r.id!==t.id&&(this.currentView=r,this._renderMethod="render",triggerDatepickerEvent(this.datepicker,"changeView"),this.main.replaceChild(r.element,t.element)),this}},{key:"changeFocus",value:function(e){return this._renderMethod=setViewDate(this,e)?"render":"refreshFocus",this.views.forEach((function(e){e.updateFocus()})),this}},{key:"update",value:function(){var e=computeResetViewDate(this.datepicker);return this._renderMethod=setViewDate(this,e)?"render":"refresh",this.views.forEach((function(e){e.updateFocus(),e.updateSelection()})),this}},{key:"render",value:function(){var e=(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._renderMethod||"render";delete this._renderMethod,this.currentView[e]()}}])}();function findNextAvailableOne(e,t,r,a,i,n){if(isInRange(e,i,n))return a(e)?findNextAvailableOne(t(e,r),t,r,a,i,n):e}function moveByArrowKey(e,t,r,a){var i,n,o=e.picker,s=o.currentView,d=s.step||1,l=o.viewDate;switch(s.id){case 0:l=a?addDays(l,7*r):t.ctrlKey||t.metaKey?addYears(l,r):addDays(l,r),i=addDays,n=function(e){return s.disabled.includes(e)};break;case 1:l=addMonths(l,a?4*r:r),i=addMonths,n=function(e){var t=new Date(e),r=s.year,a=s.disabled;return t.getFullYear()===r&&a.includes(t.getMonth())};break;default:l=addYears(l,r*(a?4:1)*d),i=addYears,n=function(e){return s.disabled.includes(startOfYearPeriod(e,d))}}void 0!==(l=findNextAvailableOne(l,i,r<0?-d:d,n,s.minDate,s.maxDate))&&o.changeFocus(l).render()}function onKeydown(e,t){if("Tab"!==t.key){var r=e.picker,a=r.currentView,i=a.id,n=a.isMinView;if(r.active)if(e.editMode)switch(t.key){case"Escape":r.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":r.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)goToPrevOrNext(e,-1);else{if(t.shiftKey)return void e.enterEditMode();moveByArrowKey(e,t,-1,!1)}break;case"ArrowRight":if(t.ctrlKey||t.metaKey)goToPrevOrNext(e,1);else{if(t.shiftKey)return void e.enterEditMode();moveByArrowKey(e,t,1,!1)}break;case"ArrowUp":if(t.ctrlKey||t.metaKey)switchView(e);else{if(t.shiftKey)return void e.enterEditMode();moveByArrowKey(e,t,-1,!0)}break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey)return void e.enterEditMode();moveByArrowKey(e,t,1,!0);break;case"Enter":n?e.setDate(r.viewDate):r.changeView(i-1).render();break;case"Backspace":case"Delete":return void e.enterEditMode();default:return void(1!==t.key.length||t.ctrlKey||t.metaKey||e.enterEditMode())}else switch(t.key){case"ArrowDown":case"Escape":r.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}else unfocus(e)}function onFocus(e){e.config.showOnFocus&&!e._showing&&e.show()}function onMousedown(e,t){var r=t.target;(e.picker.active||e.config.showOnClick)&&(r._active=r===document.activeElement,r._clicking=setTimeout((function(){delete r._active,delete r._clicking}),2e3))}function onClickInput(e,t){var r=t.target;r._clicking&&(clearTimeout(r._clicking),delete r._clicking,r._active&&e.enterEditMode(),delete r._active,e.config.showOnClick&&e.show())}function onPaste(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function onClickOutside(e,t){var r=e.element;if(r===document.activeElement){var a=e.picker.element;findElementInEventPath(t,(function(e){return e===r||e===a}))||unfocus(e)}}function stringifyDates(e,t){return e.map((function(e){return formatDate(e,t.format,t.locale)})).join(t.dateDelimiter)}function processInputDates(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.config,i=e.dates,n=e.rangepicker;if(0===t.length)return r?[]:void 0;var o=n&&e===n.datepickers[1],s=t.reduce((function(e,t){var r=parseDate(t,a.format,a.locale);if(void 0===r)return e;if(a.pickLevel>0){var i=new Date(r);r=1===a.pickLevel?o?i.setMonth(i.getMonth()+1,0):i.setDate(1):o?i.setFullYear(i.getFullYear()+1,0,0):i.setMonth(0,1)}return!isInRange(r,a.minDate,a.maxDate)||e.includes(r)||a.datesDisabled.includes(r)||a.daysOfWeekDisabled.includes(new Date(r).getDay())||e.push(r),e}),[]);return 0!==s.length?(a.multidate&&!r&&(s=s.reduce((function(e,t){return i.includes(t)||e.push(t),e}),i.filter((function(e){return!s.includes(e)})))),a.maxNumberOfDates&&s.length>a.maxNumberOfDates?s.slice(-1*a.maxNumberOfDates):s):void 0}function refreshUI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.config,i=e.picker,n=e.inputField;if(2&t){var o=i.active?a.pickLevel:a.startView;i.update().changeView(o).render(r)}1&t&&n&&(n.value=stringifyDates(e.dates,a))}function _setDate(e,t,r){var a=r.clear,i=r.render,n=r.autohide;void 0===i&&(i=!0),i?void 0===n&&(n=e.config.autohide):n=!1;var o=processInputDates(e,t,a);o&&(o.toString()!==e.dates.toString()?(e.dates=o,refreshUI(e,i?3:1),triggerDatepickerEvent(e,"changeDate")):refreshUI(e,1),n&&e.hide())}var Datepicker=function(){return _createClass((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;_classCallCheck(this,e),t.datepicker=this,this.element=t;var i=this.config=Object.assign({buttonClass:r.buttonClass&&String(r.buttonClass)||"button",container:document.body,defaultViewDate:today(),maxDate:void 0,minDate:void 0},processOptions(defaultOptions,this));this._options=r,Object.assign(i,processOptions(r,this));var n,o,s=this.inline="INPUT"!==t.tagName;if(s)i.container=t,o=stringToArray(t.dataset.date,i.dateDelimiter),delete t.dataset.date;else{var d=r.container?document.querySelector(r.container):null;d&&(i.container=d),(n=this.inputField=t).classList.add("datepicker-input"),o=stringToArray(n.value,i.dateDelimiter)}if(a){var l=a.inputs.indexOf(n),c=a.datepickers;if(l<0||l>1||!Array.isArray(c))throw Error("Invalid rangepicker object.");c[l]=this,Object.defineProperty(this,"rangepicker",{get:function(){return a}})}this.dates=[];var u=processInputDates(this,o);u&&u.length>0&&(this.dates=u),n&&(n.value=stringifyDates(this.dates,i));var h=this.picker=new Picker(this);if(s)this.show();else{var f=onClickOutside.bind(null,this);registerListeners(this,[[n,"keydown",onKeydown.bind(null,this)],[n,"focus",onFocus.bind(null,this)],[n,"mousedown",onMousedown.bind(null,this)],[n,"click",onClickInput.bind(null,this)],[n,"paste",onPaste.bind(null,this)],[document,"mousedown",f],[document,"touchstart",f],[window,"resize",h.place.bind(h)]])}}),[{key:"active",get:function(){return!(!this.picker||!this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(e){var t=this.picker,r=processOptions(e,this);Object.assign(this._options,e),Object.assign(this.config,r),t.setOptions(r),refreshUI(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),unregisterListeners(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=t?function(r){return formatDate(r,t,e.config.locale)}:function(e){return new Date(e)};return this.config.multidate?this.dates.map(r):this.dates.length>0?r(this.dates[0]):void 0}},{key:"setDate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=[].concat(t),i={},n=lastItemOf(t);"object"!==_typeof(n)||Array.isArray(n)||n instanceof Date||!n||Object.assign(i,a.pop()),_setDate(this,Array.isArray(a[0])?a[0]:a,i)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline){var t={clear:!0,autohide:!(!e||!e.autohide)};_setDate(this,stringToArray(this.inputField.value,this.config.dateDelimiter),t)}}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"string"!=typeof e&&(t=e,e=void 0),refreshUI(this,"picker"===e?2:"input"===e?1:3,!t)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(!this.inline&&this.editMode){var t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),t.update&&this.update(t)}}}],[{key:"formatDate",value:function(e,t,r){return formatDate(e,t,r&&locales[r]||locales.en)}},{key:"parseDate",value:function(e,t,r){return parseDate(e,t,r&&locales[r]||locales.en)}},{key:"locales",get:function(){return locales}}])}();export{Datepicker as default};
//# sourceMappingURL=/sm/299817726f41521c1a43cc394ad423abfc9fbc54fdb3887c6eff53ce314901e8.map