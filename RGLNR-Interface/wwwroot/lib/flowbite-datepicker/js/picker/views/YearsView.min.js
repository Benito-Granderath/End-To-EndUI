/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/js/picker/views/YearsView.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{hasProperty,pushUnique,createTagRepeat}from"../../lib/utils.js";import{dateValue,startOfYearPeriod}from"../../lib/date.js";import{parseHTML}from"../../lib/dom.js";import View from"./View.js";function toTitleCase(e){return[...e].reduce(((e,t,s)=>e+(s?t:t.toUpperCase())),"")}export default class YearsView extends View{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=10*this.step,this.beforeShowOption=`beforeShow${toTitleCase(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(parseHTML(createTagRepeat("span",12)))),super.init(e)}setOptions(e){if(hasProperty(e,"minDate")&&(void 0===e.minDate?this.minYear=this.minDate=void 0:(this.minYear=startOfYearPeriod(e.minDate,this.step),this.minDate=dateValue(this.minYear,0,1))),hasProperty(e,"maxDate")&&(void 0===e.maxDate?this.maxYear=this.maxDate=void 0:(this.maxYear=startOfYearPeriod(e.maxDate,this.step),this.maxDate=dateValue(this.maxYear,11,31))),void 0!==e[this.beforeShowOption]){const t=e[this.beforeShowOption];this.beforeShow="function"==typeof t?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=startOfYearPeriod(e,this.navStep),s=t+9*this.step;this.first=t,this.last=s,this.start=t-this.step,this.focused=startOfYearPeriod(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce(((e,t)=>pushUnique(e,startOfYearPeriod(t,this.step))),[]),t&&t.dates&&(this.range=t.dates.map((e=>{if(void 0!==e)return startOfYearPeriod(e,this.step)})))}render(){this.disabled=[],this.picker.setViewSwitchLabel(`${this.first}-${this.last}`),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(((e,t)=>{const s=e.classList,r=this.start+t*this.step,a=dateValue(r,0,1);if(e.className=`datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ${this.cellClass}`,this.isMinView&&(e.dataset.date=a),e.textContent=e.dataset.year=r,0===t?s.add("prev"):11===t&&s.add("next"),(r<this.minYear||r>this.maxYear)&&s.add("disabled"),this.range){const[e,t]=this.range;r>e&&r<t&&s.add("range"),r===e&&s.add("range-start"),r===t&&s.add("range-end")}this.selected.includes(r)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===this.focused&&s.add("focused"),this.beforeShow&&this.performBeforeHook(e,r,a)}))}refresh(){const[e,t]=this.range||[];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach((e=>{e.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")})),Array.from(this.grid.children).forEach((s=>{const r=Number(s.textContent),a=s.classList;r>e&&r<t&&a.add("range"),r===e&&a.add("range-start"),r===t&&a.add("range-end"),this.selected.includes(r)&&(a.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),a.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),r===this.focused&&a.add("focused")}))}refreshFocus(){const e=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach((e=>{e.classList.remove("focused")})),this.grid.children[e].classList.add("focused")}}
//# sourceMappingURL=/sm/f399f78519291b631b60123742698f318fb5c7b83541f2a1a8829194d8c7c3b4.map