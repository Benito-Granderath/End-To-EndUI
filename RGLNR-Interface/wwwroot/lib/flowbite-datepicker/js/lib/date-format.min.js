/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/js/lib/date-format.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{stripTime,today}from"./date.js";import{lastItemOf}from"./utils.js";export const reFormatTokens=/dd?|DD?|mm?|MM?|yy?(?:yy)?/;export const reNonDateParts=/[\s!-/:-@[-`{-~年月日]+/;let knownFormats={};const parseFns={y:(t,e)=>new Date(t).setFullYear(parseInt(e,10)),m(t,e,r){const n=new Date(t);let o=parseInt(e,10)-1;if(isNaN(o)){if(!e)return NaN;const t=e.toLowerCase(),n=e=>e.toLowerCase().startsWith(t);if(o=r.monthsShort.findIndex(n),o<0&&(o=r.months.findIndex(n)),o<0)return NaN}return n.setMonth(o),n.getMonth()!==normalizeMonth(o)?n.setDate(0):n.getTime()},d:(t,e)=>new Date(t).setDate(parseInt(e,10))},formatFns={d:t=>t.getDate(),dd:t=>padZero(t.getDate(),2),D:(t,e)=>e.daysShort[t.getDay()],DD:(t,e)=>e.days[t.getDay()],m:t=>t.getMonth()+1,mm:t=>padZero(t.getMonth()+1,2),M:(t,e)=>e.monthsShort[t.getMonth()],MM:(t,e)=>e.months[t.getMonth()],y:t=>t.getFullYear(),yy:t=>padZero(t.getFullYear(),2).slice(-2),yyyy:t=>padZero(t.getFullYear(),4)};function normalizeMonth(t){return t>-1?t%12:normalizeMonth(t+12)}function padZero(t,e){return t.toString().padStart(e,"0")}function parseFormatString(t){if("string"!=typeof t)throw new Error("Invalid date format.");if(t in knownFormats)return knownFormats[t];const e=t.split(reFormatTokens),r=t.match(new RegExp(reFormatTokens,"g"));if(0===e.length||!r)throw new Error("Invalid date format.");const n=r.map((t=>formatFns[t])),o=Object.keys(parseFns).reduce(((t,e)=>(r.find((t=>"D"!==t[0]&&t[0].toLowerCase()===e))&&t.push(e),t)),[]);return knownFormats[t]={parser(t,e){const n=t.split(reNonDateParts).reduce(((t,e,n)=>{if(e.length>0&&r[n]){const o=r[n][0];"M"===o?t.m=e:"D"!==o&&(t[o]=e)}return t}),{});return o.reduce(((t,r)=>{const o=parseFns[r](t,n[r],e);return isNaN(o)?t:o}),today())},formatter:(t,r)=>n.reduce(((n,o,a)=>n+`${e[a]}${o(t,r)}`),"")+lastItemOf(e)}}export function parseDate(t,e,r){if(t instanceof Date||"number"==typeof t){const e=stripTime(t);return isNaN(e)?void 0:e}if(t){if("today"===t)return today();if(e&&e.toValue){const n=e.toValue(t,e,r);return isNaN(n)?void 0:stripTime(n)}return parseFormatString(e).parser(t,r)}}export function formatDate(t,e,r){if(isNaN(t)||!t&&0!==t)return"";const n="number"==typeof t?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,r):parseFormatString(e).formatter(n,r)}
//# sourceMappingURL=/sm/cae402993d185ecfcd972a81f0a376858bc07aba5fa8f458a9f862c23d1335f7.map