/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/js/options/processOptions.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{hasProperty,pushUnique}from"../lib/utils.js";import{dateValue}from"../lib/date.js";import{reFormatTokens,parseDate}from"../lib/date-format.js";import{parseHTML}from"../lib/dom.js";import defaultOptions from"./defaultOptions.js";const{language:defaultLang,format:defaultFormat,weekStart:defaultWeekStart}=defaultOptions;function sanitizeDOW(e,t){return e.length<6&&t>=0&&t<7?pushUnique(e,t):e}function calcEndOfWeek(e){return(e+6)%7}function validateDate(e,t,a,i){const o=parseDate(e,t,a);return void 0!==o?o:i}function validateViewId(e,t,a=3){const i=parseInt(e,10);return i>=0&&i<=a?i:t}export default function processOptions(e,t){const a=Object.assign({},e),i={},o=t.constructor.locales;let{format:d,language:r,locale:l,maxDate:n,maxView:s,minDate:f,pickLevel:u,startView:m,weekStart:c}=t.config||{};if(a.language){let e;if(a.language!==r&&(o[a.language]?e=a.language:(e=a.language.split("-")[0],void 0===o[e]&&(e=!1))),delete a.language,e){r=i.language=e;const t=l||o[defaultLang];l=Object.assign({format:defaultFormat,weekStart:defaultWeekStart},o[defaultLang]),r!==defaultLang&&Object.assign(l,o[r]),i.locale=l,d===t.format&&(d=i.format=l.format),c===t.weekStart&&(c=i.weekStart=l.weekStart,i.weekEnd=calcEndOfWeek(l.weekStart))}}if(a.format){const e="function"==typeof a.format.toDisplay,t="function"==typeof a.format.toValue,o=reFormatTokens.test(a.format);(e&&t||o)&&(d=i.format=a.format),delete a.format}let D=f,p=n;if(void 0!==a.minDate&&(D=null===a.minDate?dateValue(0,0,1):validateDate(a.minDate,d,l,D),delete a.minDate),void 0!==a.maxDate&&(p=null===a.maxDate?void 0:validateDate(a.maxDate,d,l,p),delete a.maxDate),p<D?(f=i.minDate=p,n=i.maxDate=D):(f!==D&&(f=i.minDate=D),n!==p&&(n=i.maxDate=p)),a.datesDisabled&&(i.datesDisabled=a.datesDisabled.reduce(((e,t)=>{const a=parseDate(t,d,l);return void 0!==a?pushUnique(e,a):e}),[]),delete a.datesDisabled),void 0!==a.defaultViewDate){const e=parseDate(a.defaultViewDate,d,l);void 0!==e&&(i.defaultViewDate=e),delete a.defaultViewDate}if(void 0!==a.weekStart){const e=Number(a.weekStart)%7;isNaN(e)||(c=i.weekStart=e,i.weekEnd=calcEndOfWeek(e)),delete a.weekStart}if(a.daysOfWeekDisabled&&(i.daysOfWeekDisabled=a.daysOfWeekDisabled.reduce(sanitizeDOW,[]),delete a.daysOfWeekDisabled),a.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=a.daysOfWeekHighlighted.reduce(sanitizeDOW,[]),delete a.daysOfWeekHighlighted),void 0!==a.maxNumberOfDates){const e=parseInt(a.maxNumberOfDates,10);e>=0&&(i.maxNumberOfDates=e,i.multidate=1!==e),delete a.maxNumberOfDates}a.dateDelimiter&&(i.dateDelimiter=String(a.dateDelimiter),delete a.dateDelimiter);let w=u;void 0!==a.pickLevel&&(w=validateViewId(a.pickLevel,2),delete a.pickLevel),w!==u&&(u=i.pickLevel=w);let g=s;void 0!==a.maxView&&(g=validateViewId(a.maxView,s),delete a.maxView),g=u>g?u:g,g!==s&&(s=i.maxView=g);let k=m;if(void 0!==a.startView&&(k=validateViewId(a.startView,k),delete a.startView),k<u?k=u:k>s&&(k=s),k!==m&&(i.startView=k),a.prevArrow){const e=parseHTML(a.prevArrow);e.childNodes.length>0&&(i.prevArrow=e.childNodes),delete a.prevArrow}if(a.nextArrow){const e=parseHTML(a.nextArrow);e.childNodes.length>0&&(i.nextArrow=e.childNodes),delete a.nextArrow}if(void 0!==a.disableTouchKeyboard&&(i.disableTouchKeyboard="ontouchstart"in document&&!!a.disableTouchKeyboard,delete a.disableTouchKeyboard),a.orientation){const e=a.orientation.toLowerCase().split(/\s+/g);i.orientation={x:e.find((e=>"left"===e||"right"===e))||"auto",y:e.find((e=>"top"===e||"bottom"===e))||"auto"},delete a.orientation}if(void 0!==a.todayBtnMode){switch(a.todayBtnMode){case 0:case 1:i.todayBtnMode=a.todayBtnMode}delete a.todayBtnMode}return Object.keys(a).forEach((e=>{void 0!==a[e]&&hasProperty(defaultOptions,e)&&(i[e]=a[e])})),i}
//# sourceMappingURL=/sm/7f70d117d1e100a55144f129040f1732b750cfdcd9e83f5ecb3a0a38b85d3087.map