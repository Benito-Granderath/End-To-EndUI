/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/flowbite-datepicker@1.3.0/js/DateRangePicker.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{registerListeners,unregisterListeners}from"./lib/event.js";import{formatDate}from"./lib/date-format.js";import Datepicker from"./Datepicker.js";function filterOptions(e){const t=Object.assign({},e);return delete t.inputs,delete t.allowOneSidedRange,delete t.maxNumberOfDates,t}function setupDatepicker(e,t,s,i){registerListeners(e,[[s,"changeDate",t]]),new Datepicker(s,i,e)}function onChangeDate(e,t){if(e._updating)return;e._updating=!0;const s=t.target;if(void 0===s.datepicker)return;const i=e.datepickers,a={render:!1},n=e.inputs.indexOf(s),r=0===n?1:0,d=i[n].dates[0],o=i[r].dates[0];void 0!==d&&void 0!==o?0===n&&d>o?(i[0].setDate(o,a),i[1].setDate(d,a)):1===n&&d<o&&(i[0].setDate(d,a),i[1].setDate(o,a)):e.allowOneSidedRange||void 0===d&&void 0===o||(a.clear=!0,i[r].setDate(i[n].dates,a)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}export default class DateRangePicker{constructor(e,t={}){const s=Array.isArray(t.inputs)?t.inputs:Array.from(e.querySelectorAll("input"));if(s.length<2)return;e.rangepicker=this,this.element=e,this.inputs=s.slice(0,2),this.allowOneSidedRange=!!t.allowOneSidedRange;const i=onChangeDate.bind(null,this),a=filterOptions(t),n=[];Object.defineProperty(this,"datepickers",{get:()=>n}),setupDatepicker(this,i,this.inputs[0],a),setupDatepicker(this,i,this.inputs[1],a),Object.freeze(n),n[0].dates.length>0?onChangeDate(this,{target:this.inputs[0]}):n[1].dates.length>0&&onChangeDate(this,{target:this.inputs[1]})}get dates(){return 2===this.datepickers.length?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const t=filterOptions(e);this.datepickers[0].setOptions(t),this.datepickers[1].setOptions(t)}destroy(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),unregisterListeners(this),delete this.element.rangepicker}getDates(e=void 0){const t=e?t=>formatDate(t,e,this.datepickers[0].config.locale):e=>new Date(e);return this.dates.map((e=>void 0===e?e:t(e)))}setDates(e,t){const[s,i]=this.datepickers,a=this.dates;this._updating=!0,s.setDate(e),i.setDate(t),delete this._updating,i.dates[0]!==a[1]?onChangeDate(this,{target:this.inputs[1]}):s.dates[0]!==a[0]&&onChangeDate(this,{target:this.inputs[0]})}}
//# sourceMappingURL=/sm/171247efc7d7714776a37532f2afb76d900385b0caab693f8604fe21f6b6e53d.map